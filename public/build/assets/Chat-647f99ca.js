import{k as _,r as u,o as n,c as p,w as h,a as i,u as d,X as x,b as e,h as g,i as H,F as S,n as C,e as V,d as c,t as v}from"./app-2142d583.js";import{I as B}from"./rules-bcd4dbe1.js";import{u as L,_ as R}from"./GuestLayout-fc97b580.js";import"./sweetalert2.all-0d541240.js";const w={class:"chatMessage"},A=e("p",{class:"harvey"},[e("strong",null,[c("Harvey Wood: "),e("br")]),e("span",{lang:"pt"},"Você está conversando com uma AI desenhada para entender suas necessidades e negociar um bom acordo"),e("span",{lang:"en"},"You are talking to an AI designed to understand your needs and negotiate a good deal"),e("span",{lang:"es"},"Estás hablando con una IA diseñada para comprender tus necesidades y negociar un buen trato.")],-1),I={key:2,class:"harvey"},q=e("strong",null,[c("Harvey Wood: "),e("br")],-1),F={key:3,class:"user"},W=e("br",null,null,-1),N=["value"],U={__name:"Chat",props:{canLogin:Boolean,canRegister:Boolean,laravelToken:String},setup(f){const t=L(),y=function(o){return{message:{pt:"Mensagem",en:"Message",es:"Mensaje"}}[o][t.lang]},r=_(),l=_(""),b=()=>{t.setChatStatus(!0),t.setUserMessage(l.value),setTimeout(function(){r.value.scrollTop=r.value.scrollHeight});let o=new FormData(document.querySelector("#send"));o.append("message",l.value),o.append("lang",t.lang);let s=new XMLHttpRequest;s.onload=function(){t.setAssistantMessage(s.responseText),t.setChatStatus(!1),setTimeout(function(){r.value.scrollTop=r.value.scrollHeight})},s.open("POST",route("message")),s.send(o),l.value=""};return(o,s)=>{const m=u("v-avatar"),k=u("v-text-field"),M=u("v-btn"),T=u("v-container");return n(),p(R,{canLogin:"canRegister",canRegister:"canRegister",title:"Harvey",customClass:"chat"},{default:h(()=>[i(d(x),{title:"Fale conosco"}),i(T,{id:"chat"},{default:h(()=>[e("div",{class:C({chatMessages:!0,loading:d(t).chatLoading}),ref_key:"messages",ref:r},[e("div",w,[i(m,{class:"mr-2 mt-3",image:"/img/harvey-profile.png"}),A]),(n(!0),g(S,null,H(d(t).chatMessages,a=>(n(),g("div",{class:"chatMessage",key:a.key},[a.user=="Harvey Wood"?(n(),p(m,{key:0,class:"mr-2 mt-3",image:"/img/harvey-profile.png"})):(n(),p(m,{key:1,class:"mr-2 mt-3",image:"/img/user-profile.jpg"})),a.user=="Harvey Wood"?(n(),g("p",I,[q,c(" "+v(a.message),1)])):(n(),g("p",F,[e("strong",null,[c(v(a.user)+": ",1),W]),c(" "+v(a.message),1)]))]))),128))],2),e("form",{onSubmit:s[1]||(s[1]=V(a=>b(),["prevent"])),id:"send"},[e("input",{type:"hidden",name:"_token",value:f.laravelToken},null,8,N),i(k,{variant:"underlined","prepend-inner-icon":"mdi-message",modelValue:l.value,"onUpdate:modelValue":s[0]||(s[0]=a=>l.value=a),label:y("message"),rules:[d(B).required],required:""},null,8,["modelValue","label","rules"]),i(M,{type:"submit",icon:"mdi-send",size:"large",variant:"plain"})],32)]),_:1})]),_:1})}}};export{U as default};
