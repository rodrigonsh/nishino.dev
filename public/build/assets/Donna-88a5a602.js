import{g as f,r as c,o as t,e as u,a as l,u as d,w as p,F as h,X as x,b as n,f as S,h as w,i as B,c as b,d as m,t as g}from"./app-3445c203.js";import{_ as V}from"./AdminLayout-d1a3b6e8.js";import{I as C}from"./rules-bcd4dbe1.js";import"./sweetalert2.all-88a74996.js";import{u as L}from"./store-b8ee62da.js";const q=n("h1",null,"Donna",-1),F={key:2,class:"harvey"},H=n("strong",null,[m("Donna: "),n("br")],-1),N={key:3,class:"user"},R=n("br",null,null,-1),j=["value"],$={__name:"Donna",props:{canLogin:Boolean,canRegister:Boolean,laravelToken:String},setup(k){const a=L(),y=function(o){return{message:{pt:"Mensagem",en:"Message",es:"Mensaje"}}[o][a.lang]},r=f(),i=f(""),M=()=>{a.setChatStatus(!0),a.setUserMessage("donna",i.value),setTimeout(function(){r.value.scrollTop=r.value.scrollHeight});let o=new FormData(document.querySelector(".chat-send"));o.append("message",i.value),o.append("lang",a.lang);let e=new XMLHttpRequest;e.onload=function(){a.setAssistantMessage("donna",e.responseText),a.setChatStatus(!1),setTimeout(function(){r.value.scrollTop=r.value.scrollHeight})},e.open("POST",route("message-donna")),e.send(o),i.value=""};return(o,e)=>{const _=c("v-container"),v=c("v-avatar"),D=c("v-text-field"),T=c("v-btn");return t(),u(h,null,[l(d(x),{title:"Donna"}),l(V,{title:"Donna"},{default:p(()=>[l(_,{class:"w-100 pa-7 bg-dialog"},{default:p(()=>[q]),_:1}),l(_,{class:"chat"},{default:p(()=>[n("div",{class:w({chatMessages:!0,loading:d(a).chatLoading}),ref_key:"messages",ref:r},[(t(!0),u(h,null,S(d(a).donnaMessages,s=>(t(),u("div",{class:"chatMessage",key:s.key},[s.user=="Donna"?(t(),b(v,{key:0,class:"mr-2 mt-3",image:"/img/harvey-profile.png"})):(t(),b(v,{key:1,class:"mr-2 mt-3",image:"/img/user-profile.jpg"})),s.user=="Donna"?(t(),u("p",F,[H,m(" "+g(s.message),1)])):(t(),u("p",N,[n("strong",null,[m(g(s.user)+": ",1),R]),m(" "+g(s.message),1)]))]))),128))],2),n("form",{onSubmit:e[1]||(e[1]=B(s=>M(),["prevent"])),class:"chat-send"},[n("input",{type:"hidden",name:"_token",value:k.laravelToken},null,8,j),l(D,{variant:"underlined","prepend-inner-icon":"mdi-message",modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=s=>i.value=s),label:y("message"),rules:[d(C).required],required:""},null,8,["modelValue","label","rules"]),l(T,{type:"submit",icon:"mdi-send",size:"large",variant:"plain"})],32)]),_:1})]),_:1})],64)}}};export{$ as default};
