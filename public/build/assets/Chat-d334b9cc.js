import{g as _,r as d,o as n,c as p,w as h,a as i,u,X as S,b as e,e as m,f as T,F as x,h as C,i as V,d as c,t as v}from"./app-2c521372.js";import{I as B}from"./rules-bcd4dbe1.js";import{_ as L}from"./GuestLayout-5ec0b946.js";import"./sweetalert2.all-c32728c7.js";import{u as R}from"./store-c7613b76.js";const w={class:"chatMessage"},A=e("p",{class:"harvey"},[e("strong",null,[c("Harvey Wood: "),e("br")]),e("span",{lang:"pt"},"Você está conversando com Harvey, uma AI desenhada para entender suas necessidades e negociar um bom acordo. Começe me dizendo seu nome e seu endereço de email"),e("span",{lang:"en"},"You are talking to Harvey, an AI designed to understand your needs and negotiate a good deal. Start by telling me your name and your email address"),e("span",{lang:"es"},"Estás hablando con Harvey, una IA diseñada para comprender tus necesidades y negociar un buen trato. Empieza diciéndome tu nombre y dirección de correo electrónico.")],-1),I={key:2,class:"harvey"},q=e("strong",null,[c("Harvey Wood: "),e("br")],-1),z={key:3,class:"user"},F=e("br",null,null,-1),W=["value"],X={__name:"Chat",props:{canLogin:Boolean,canRegister:Boolean,laravelToken:String},setup(y){const t=R(),f=function(o){return{message:{pt:"Mensagem",en:"Message",es:"Mensaje"}}[o][t.lang]},r=_(),l=_(""),b=()=>{t.setChatStatus(!0),t.setUserMessage("harvey-message",l.value),setTimeout(function(){r.value.scrollTop=r.value.scrollHeight});let o=new FormData(document.querySelector(".chat-send"));o.append("message",l.value),o.append("lang",t.lang);let a=new XMLHttpRequest;a.onload=function(){t.setAssistantMessage("harvey-message",a.responseText),t.setChatStatus(!1),setTimeout(function(){r.value.scrollTop=r.value.scrollHeight})},a.open("POST",route("harvey-message")),a.send(o),l.value=""};return(o,a)=>{const g=d("v-avatar"),k=d("v-text-field"),H=d("v-btn"),M=d("v-container");return n(),p(L,{canLogin:"canRegister",canRegister:"canRegister",title:"Harvey",customClass:"chat"},{default:h(()=>[i(u(S),{title:"Fale conosco"}),i(M,{class:"chat"},{default:h(()=>[e("div",{class:C({chatMessages:!0,loading:u(t).chatLoading}),ref_key:"messages",ref:r},[e("div",w,[i(g,{class:"mr-2 mt-3",image:"/img/harvey-profile.png"}),A]),(n(!0),m(x,null,T(u(t).chatMessages,s=>(n(),m("div",{class:"chatMessage",key:s.key},[s.user=="Harvey Wood"?(n(),p(g,{key:0,class:"mr-2 mt-3",image:"/img/harvey-profile.png"})):(n(),p(g,{key:1,class:"mr-2 mt-3",image:"/img/user-profile.jpg"})),s.user=="Harvey Wood"?(n(),m("p",I,[q,c(" "+v(s.message),1)])):(n(),m("p",z,[e("strong",null,[c(v(s.user)+": ",1),F]),c(" "+v(s.message),1)]))]))),128))],2),e("form",{onSubmit:a[1]||(a[1]=V(s=>b(),["prevent"])),class:"chat-send"},[e("input",{type:"hidden",name:"_token",value:y.laravelToken},null,8,W),i(k,{variant:"underlined","prepend-inner-icon":"mdi-message",modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=s=>l.value=s),label:f("message"),rules:[u(B).required],required:""},null,8,["modelValue","label","rules"]),i(H,{type:"submit",icon:"mdi-send",size:"large",variant:"plain"})],32)]),_:1})]),_:1})}}};export{X as default};
