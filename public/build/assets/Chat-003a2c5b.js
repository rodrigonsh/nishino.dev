import{k as _,r as u,o as n,c as p,w as h,a as i,u as d,X as T,b as e,h as g,i as x,F as S,n as C,e as V,d as c,t as v}from"./app-1630fc74.js";import{I as B}from"./rules-bcd4dbe1.js";import{u as L,_ as R}from"./GuestLayout-829f57be.js";import"./sweetalert2.all-2287723d.js";const w={class:"chatMessage"},A=e("p",{class:"harvey"},[e("strong",null,[c("Harvey Wood: "),e("br")]),e("span",{lang:"pt"},"Você está conversando com Harvey, uma AI desenhada para entender suas necessidades e negociar um bom acordo"),e("span",{lang:"en"},"You are talking to Harvey, an AI designed to understand your needs and negotiate a good deal"),e("span",{lang:"es"},"Estás hablando con Harvey, una IA diseñada para comprender tus necesidades y negociar un buen trato.")],-1),I={key:2,class:"harvey"},q=e("strong",null,[c("Harvey Wood: "),e("br")],-1),F={key:3,class:"user"},W=e("br",null,null,-1),N=["value"],U={__name:"Chat",props:{canLogin:Boolean,canRegister:Boolean,laravelToken:String},setup(f){const t=L(),y=function(o){return{message:{pt:"Mensagem",en:"Message",es:"Mensaje"}}[o][t.lang]},r=_(),l=_(""),b=()=>{t.setChatStatus(!0),t.setUserMessage(l.value),setTimeout(function(){r.value.scrollTop=r.value.scrollHeight});let o=new FormData(document.querySelector("#send"));o.append("message",l.value),o.append("lang",t.lang);let a=new XMLHttpRequest;a.onload=function(){t.setAssistantMessage(a.responseText),t.setChatStatus(!1),setTimeout(function(){r.value.scrollTop=r.value.scrollHeight})},a.open("POST",route("message")),a.send(o),l.value=""};return(o,a)=>{const m=u("v-avatar"),k=u("v-text-field"),H=u("v-btn"),M=u("v-container");return n(),p(R,{canLogin:"canRegister",canRegister:"canRegister",title:"Harvey",customClass:"chat"},{default:h(()=>[i(d(T),{title:"Fale conosco"}),i(M,{id:"chat"},{default:h(()=>[e("div",{class:C({chatMessages:!0,loading:d(t).chatLoading}),ref_key:"messages",ref:r},[e("div",w,[i(m,{class:"mr-2 mt-3",image:"/img/harvey-profile.png"}),A]),(n(!0),g(S,null,x(d(t).chatMessages,s=>(n(),g("div",{class:"chatMessage",key:s.key},[s.user=="Harvey Wood"?(n(),p(m,{key:0,class:"mr-2 mt-3",image:"/img/harvey-profile.png"})):(n(),p(m,{key:1,class:"mr-2 mt-3",image:"/img/user-profile.jpg"})),s.user=="Harvey Wood"?(n(),g("p",I,[q,c(" "+v(s.message),1)])):(n(),g("p",F,[e("strong",null,[c(v(s.user)+": ",1),W]),c(" "+v(s.message),1)]))]))),128))],2),e("form",{onSubmit:a[1]||(a[1]=V(s=>b(),["prevent"])),id:"send"},[e("input",{type:"hidden",name:"_token",value:f.laravelToken},null,8,N),i(k,{variant:"underlined","prepend-inner-icon":"mdi-message",modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=s=>l.value=s),label:y("message"),rules:[d(B).required],required:""},null,8,["modelValue","label","rules"]),i(H,{type:"submit",icon:"mdi-send",size:"large",variant:"plain"})],32)]),_:1})]),_:1})}}};export{U as default};
