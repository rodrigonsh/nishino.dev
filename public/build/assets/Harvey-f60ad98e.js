import{g as f,r as c,o as n,e as u,a as l,u as d,w as p,F as h,X as x,b as t,f as S,h as w,i as B,c as y,d as m,t as g}from"./app-3445c203.js";import{_ as V}from"./AuthenticatedLayout-b0c097c3.js";import{I as C}from"./rules-bcd4dbe1.js";import"./sweetalert2.all-88a74996.js";import{u as L}from"./store-b8ee62da.js";const q=t("h1",null,"Harvey",-1),F={key:2,class:"harvey"},N=t("strong",null,[m("Harvey Wood: "),t("br")],-1),R={key:3,class:"user"},W=t("br",null,null,-1),j=["value"],X={__name:"Harvey",props:{canLogin:Boolean,canRegister:Boolean,laravelToken:String},setup(b){const a=L(),k=function(o){return{message:{pt:"Mensagem",en:"Message",es:"Mensaje"}}[o][a.lang]},r=f(),i=f(""),H=()=>{a.setChatStatus(!0),a.setUserMessage("harvey-client",i.value),setTimeout(function(){r.value.scrollTop=r.value.scrollHeight});let o=new FormData(document.querySelector(".chat-send"));o.append("message",i.value),o.append("lang",a.lang);let e=new XMLHttpRequest;e.onload=function(){a.setAssistantMessage("harvey-client",e.responseText),a.setChatStatus(!1),setTimeout(function(){r.value.scrollTop=r.value.scrollHeight})},e.open("POST",route("message-client")),e.send(o),i.value=""};return(o,e)=>{const v=c("v-container"),_=c("v-avatar"),M=c("v-text-field"),T=c("v-btn");return n(),u(h,null,[l(d(x),{title:"Harvey"}),l(V,{title:"Harvey"},{default:p(()=>[l(v,{class:"w-100 pa-7 bg-dialog"},{default:p(()=>[q]),_:1}),l(v,{class:"chat"},{default:p(()=>[t("div",{class:w({chatMessages:!0,loading:d(a).chatLoading}),ref_key:"messages",ref:r},[(n(!0),u(h,null,S(d(a).clientMessages,s=>(n(),u("div",{class:"chatMessage",key:s.key},[s.user=="Harvey Wood"?(n(),y(_,{key:0,class:"mr-2 mt-3",image:"/img/harvey-profile.png"})):(n(),y(_,{key:1,class:"mr-2 mt-3",image:"/img/user-profile.jpg"})),s.user=="Harvey Wood"?(n(),u("p",F,[N,m(" "+g(s.message),1)])):(n(),u("p",R,[t("strong",null,[m(g(s.user)+": ",1),W]),m(" "+g(s.message),1)]))]))),128))],2),t("form",{onSubmit:e[1]||(e[1]=B(s=>H(),["prevent"])),class:"chat-send"},[t("input",{type:"hidden",name:"_token",value:b.laravelToken},null,8,j),l(M,{variant:"underlined","prepend-inner-icon":"mdi-message",modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=s=>i.value=s),label:k("message"),rules:[d(C).required],required:""},null,8,["modelValue","label","rules"]),l(T,{type:"submit",icon:"mdi-send",size:"large",variant:"plain"})],32)]),_:1})]),_:1})],64)}}};export{X as default};
